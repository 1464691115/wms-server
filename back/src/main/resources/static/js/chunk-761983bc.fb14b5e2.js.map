{"version":3,"sources":["webpack:///./src/project/model/base/BaseUser.js","webpack:///./src/project/model/InventoryModel.js","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue?1763","webpack:///./src/project/model/base/BaseWarehouseAndUser.js","webpack:///./src/components/page-content/inventory/InventorySearchView.vue?f73d","webpack:///./src/components/page-content/inventory/InventorySearchView.vue?71f4","webpack:///src/components/page-content/inventory/InventorySearchView.vue","webpack:///./src/components/page-content/inventory/InventorySearchView.vue?ff0d","webpack:///./src/components/page-content/inventory/InventorySearchView.vue","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue?c726","webpack:///src/components/page-content/enum-selector/WarehouseSelector.vue","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue?5206","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue"],"names":["BaseUser","InventoryModel","BaseWarehouseAndUser","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WarehouseSelector_vue_vue_type_style_index_0_id_afa1b522_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WarehouseSelector_vue_vue_type_style_index_0_id_afa1b522_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InventorySearchView_vue_vue_type_style_index_0_id_0395bb82_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InventorySearchView_vue_vue_type_style_index_0_id_0395bb82_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click-search","refreshData","_v","model","value","filterForm","callback","$$v","$set","expression","attrs","is-filter","level","change","warehouseChange","loading","data","paginate","operate-width","selectedRow","create-user-show","update-user-show","show-all-warehouse","operate-show","show-selection","update:selectedRow","$event","update:selected-row","sort-change","sortChange","scopedSlots","_u","key","fn","ref","row","type","icon","nativeOn","click","clickRowEditButton","clickRowDeleteButton","prop","label","sortable","width","_s","materialCode","materialName","staticRenderFns","InventorySearchViewvue_type_script_lang_js_","name","components","TablePanel","ElButtonMini","WarehouseSelector","SearchCardLayout","props","showAddDialog","PaginateModel","sortingColumn","editId","mounted","reload","methods","_this","$ajax","request","Api","inventory","list","Object","objectSpread","EcUtil","getSortField","getJSON","then","resp","setPaginate","finally","nodes","clickAddButton","clickEditButton","id","clickDeleteButton","delete","l","length","warehouseId","reservoirId","stockId","watch","computed","inventory_InventorySearchViewvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","style","selectArray","placeholder","isFilter","plcText","options","tree","change-on-select","itemChange","WarehouseSelectorvue_type_script_lang_js_","default","visible","filterIds","needFilter","warehouses","reservoirs","stocks","refreshList","v","$emit","warehouse","warSelectAll","resSelectAll","stockSelectAll","createTree","_this2","CollectionUtil","listToTreeByTwoList","concat","filterTree","x","includes","refreshSelect","_this3","getTreeRoute","valueUse","enum_selector_WarehouseSelectorvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-761983bc.fb14b5e2.js","sourcesContent":["import DateTimeUtil from \"@/util/DateTimeUtil\";\r\n\r\nexport default class BaseUser {\r\n\r\n    createUid = 0 ;\r\n    updateUid = 0 ;\r\n\r\n    createTime = '' ;\r\n    updateTime = '' ;\r\n\r\n    createUserName = '';\r\n    updateUserName = '' ;\r\n\r\n}","import BaseWarehouseAndUser from \"@/project/model/base/BaseWarehouseAndUser\";\r\n\r\nexport default class InventoryModel extends BaseWarehouseAndUser {\r\n\r\n    id = 0;\r\n    materialId = 0;\r\n    quantity = 0;\r\n    lastInTime = \"\";\r\n    lastOutTime = \"\";\r\n    lastInQuantity = 0;\r\n    lastOutQuantity = 0;\r\n    materialCode = '';\r\n    materialName = '';\r\n    mtlUnitName = '';\r\n\r\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=style&index=0&id=afa1b522&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=style&index=0&id=afa1b522&lang=less&scoped=true&\"","import BaseUser from \"@/project/model/base/BaseUser\";\r\n\r\nexport default class BaseWarehouseAndUser extends BaseUser {\r\n\r\n    warehouseId = 0;\r\n    reservoirId = 0;\r\n    stockId = 0;\r\n\r\n    warehouseName = '';\r\n    reservoirName = '';\r\n    stockName = '';\r\n\r\n    warehouseCode = '';\r\n    reservoirCode = '';\r\n    stockCode = '';\r\n\r\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventorySearchView.vue?vue&type=style&index=0&id=0395bb82&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventorySearchView.vue?vue&type=style&index=0&id=0395bb82&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"InventorySearchView flex-box flex-column\"},[_c('search-card-layout',{on:{\"click-search\":_vm.refreshData}},[_c('div',{staticClass:\"flex-box search-card\"},[_c('div',{},[_c('span',[_vm._v(\"物料名称\")]),_c('el-input',{model:{value:(_vm.filterForm.materialName),callback:function ($$v) {_vm.$set(_vm.filterForm, \"materialName\", $$v)},expression:\"filterForm.materialName\"}})],1),_c('div',{},[_c('span',[_vm._v(\"仓库货架\")]),_c('warehouse-selector',{attrs:{\"is-filter\":true,\"level\":3},on:{\"change\":_vm.warehouseChange}})],1)])]),_c('div',{staticClass:\"flex-grow\"},[_c('table-panel',{attrs:{\"loading\":_vm.loading,\"data\":_vm.data,\"paginate\":_vm.paginate,\"operate-width\":\"80\",\"selectedRow\":_vm.selectedRow,\"create-user-show\":true,\"update-user-show\":true,\"show-all-warehouse\":true,\"operate-show\":false,\"show-selection\":false},on:{\"update:selectedRow\":function($event){_vm.selectedRow=$event},\"update:selected-row\":function($event){_vm.selectedRow=$event},\"sort-change\":_vm.sortChange},scopedSlots:_vm._u([{key:\"operate\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button-mini',{attrs:{\"type\":\"text\",\"icon\":\"edit\"},nativeOn:{\"click\":function($event){return _vm.clickRowEditButton(row)}}}),_c('el-button-mini',{attrs:{\"type\":\"text\",\"icon\":\"delete\"},nativeOn:{\"click\":function($event){return _vm.clickRowDeleteButton(row)}}})]}}])},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"sortable\":\"custom\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"materialId\",\"label\":\"物料编号\",\"sortable\":\"custom\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.materialCode))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"materialId\",\"label\":\"物料名称\",\"sortable\":\"custom\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.materialName))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"quantity\",\"label\":\"库存数量\",\"sortable\":\"custom\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"mtlUnitName\",\"label\":\"单位\",\"sortable\":\"custom\",\"width\":\"80\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"InventorySearchView flex-box flex-column\">\r\n        <search-card-layout\r\n                @click-search=\"refreshData\"\r\n        >\r\n            <div class=\"flex-box search-card\">\r\n                <div class=\"\">\r\n                    <span>物料名称</span>\r\n                    <el-input v-model=\"filterForm.materialName\"></el-input>\r\n                </div>\r\n                <div class=\"\">\r\n                    <span>仓库货架</span>\r\n                    <warehouse-selector\r\n                            :is-filter=\"true\"\r\n                            :level=\"3\"\r\n                            @change=\"warehouseChange\"\r\n                    ></warehouse-selector>\r\n                </div>\r\n            </div>\r\n        </search-card-layout>\r\n        <div class=\"flex-grow\">\r\n            <table-panel\r\n                    :loading=\"loading\"\r\n                    :data=\"data\"\r\n                    :paginate=\"paginate\"\r\n                    operate-width=\"80\"\r\n                    :selectedRow.sync=\"selectedRow\"\r\n                    @sort-change=\"sortChange\"\r\n                    :create-user-show=\"true\"\r\n                    :update-user-show=\"true\"\r\n                    :show-all-warehouse=\"true\"\r\n                    :operate-show=\"false\"\r\n                    :show-selection=\"false\"\r\n            >\r\n                <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"ID\"\r\n                        sortable=\"custom\"\r\n                        width=\"80\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"materialId\"\r\n                        label=\"物料编号\"\r\n                        sortable=\"custom\"\r\n                        width=\"120\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.materialCode }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"materialId\"\r\n                        label=\"物料名称\"\r\n                        sortable=\"custom\"\r\n                        width=\"120\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.materialName }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"quantity\"\r\n                        label=\"库存数量\"\r\n                        sortable=\"custom\"\r\n                        width=\"120\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"mtlUnitName\"\r\n                        label=\"单位\"\r\n                        sortable=\"custom\"\r\n                        width=\"80\"\r\n                ></el-table-column>\r\n\r\n                <template slot=\"operate\" slot-scope=\"{row}\">\r\n                    <el-button-mini\r\n                            type=\"text\"\r\n                            icon=\"edit\"\r\n                            @click.native=\"clickRowEditButton(row)\"\r\n                    ></el-button-mini>\r\n                    <el-button-mini\r\n                            type=\"text\"\r\n                            icon=\"delete\"\r\n                            @click.native=\"clickRowDeleteButton(row)\"\r\n                    ></el-button-mini>\r\n                </template>\r\n            </table-panel>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import SearchCardLayout from \"@/components/layout-component/SearchCardLayout\";\r\n    import EcUtil from \"@/util/EcUtil\";\r\n    import InventoryModel from \"@/project/model/InventoryModel\";\r\n    import PaginateModel from \"@/project/model/PaginateModel\";\r\n    import Api from \"@/assets/api/Api\";\r\n    import WarehouseSelector from \"@/components/page-content/enum-selector/WarehouseSelector\";\r\n    import ElButtonMini from \"@/components/common/button/ElButtonMini\";\r\n    import TablePanel from \"@/components/layout-component/TablePanel\";\r\n\r\n    export default {\r\n        name: \"InventorySearchView\",\r\n        components: {TablePanel, ElButtonMini, WarehouseSelector, SearchCardLayout},\r\n        props: {},\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                showAddDialog: false,\r\n                filterForm: new InventoryModel(),\r\n                data: [],\r\n                paginate: new PaginateModel(this.refreshData),\r\n                selectedRow: [],\r\n                sortingColumn: null,\r\n                editId: 0,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n                this.refreshData();\r\n            },\r\n            refreshData() {\r\n                this.loading = true;\r\n                this.$ajax.request(Api.inventory.list, {\r\n                    ...EcUtil.getSortField(this.sortingColumn),\r\n                    ...this.paginate.getJSON(),\r\n                    ...this.filterForm\r\n                }).then(resp => {\r\n                    this.data = resp.list;\r\n                    this.paginate.setPaginate(resp);\r\n                }).finally(() => this.loading = false)\r\n            },\r\n\r\n            sortChange(nodes) {\r\n                this.sortingColumn = nodes;\r\n                this.refreshData();\r\n            },\r\n\r\n            clickAddButton() {\r\n                this.editId = 0;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickEditButton() {\r\n                this.editId = this.selectedRow[0].id;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickDeleteButton() {\r\n                this.delete(this.selectedRow);\r\n            },\r\n            clickRowEditButton(row) {\r\n                this.editId = row.id;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickRowDeleteButton(row) {\r\n                this.delete([row]);\r\n            },\r\n\r\n            warehouseChange(nodes) {\r\n                let l = nodes.length;\r\n                this.filterForm.warehouseId = l > 0 ? nodes[0] : 0;\r\n                this.filterForm.reservoirId = l > 1 ? nodes[1] : 0;\r\n                this.filterForm.stockId = l > 2 ? nodes[2] : 0;\r\n            }\r\n\r\n        },\r\n        watch: {},\r\n        computed: {},\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import (reference) \"~style/all.less\";\r\n\r\n    .InventorySearchView {\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventorySearchView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventorySearchView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InventorySearchView.vue?vue&type=template&id=0395bb82&scoped=true&\"\nimport script from \"./InventorySearchView.vue?vue&type=script&lang=js&\"\nexport * from \"./InventorySearchView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InventorySearchView.vue?vue&type=style&index=0&id=0395bb82&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0395bb82\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"WarehouseSelector\"},[_c('el-cascader',{style:({'width' : _vm.width}),attrs:{\"value\":_vm.selectArray,\"placeholder\":_vm.isFilter? '全部' : _vm.plcText,\"options\":_vm.tree,\"props\":{value:'id', label: 'name'},\"change-on-select\":_vm.isFilter},on:{\"change\":_vm.itemChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"WarehouseSelector\">\r\n        <el-cascader\r\n                :style=\"{'width' : width}\"\r\n                :value=\"selectArray\"\r\n                :placeholder=\" isFilter? '全部' : plcText\"\r\n                :options=\"tree\"\r\n                :props=\"{value:'id', label: 'name'}\"\r\n                @change=\"itemChange\"\r\n                :change-on-select=\"isFilter\"\r\n        ></el-cascader>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Api from \"@/assets/api/Api\";\r\n    import CollectionUtil from \"@/util/CollectionUtil\";\r\n\r\n    export default {\r\n        name: \"WarehouseSelector\",\r\n        components: {},\r\n        props: {\r\n            value: {\r\n                default: 0\r\n            },\r\n            isFilter: {\r\n                default: false\r\n            },\r\n            level: {\r\n                default: 1\r\n            },\r\n            visible: {\r\n                default: true\r\n            },\r\n            width: {\r\n                default: '200px'\r\n            },\r\n            filterIds: {\r\n                default() {\r\n                    return [];\r\n                }\r\n            },\r\n            needFilter: {\r\n                default :false\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                warehouses: [],\r\n                reservoirs: [],\r\n                stocks: [],\r\n                tree: [],\r\n                selectArray: []\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n                this.refreshList();\r\n                this.change(this.isFilter ? 0 : null);\r\n            },\r\n            change(v) {\r\n                this.$emit('input', v);\r\n            },\r\n            refreshList() {\r\n                this.$ajax.request(Api.warehouse.warSelectAll).then(resp => {\r\n                    this.warehouses = resp;\r\n                    if (this.level > 1) {\r\n                        return this.$ajax.request(Api.warehouse.resSelectAll);\r\n                    }\r\n                }).then(resp => {\r\n                    this.reservoirs = resp;\r\n                    if (this.level > 2) {\r\n                        return this.$ajax.request(Api.warehouse.stockSelectAll);\r\n                    }\r\n                }).then(resp => {\r\n                    this.stocks = resp;\r\n                }).finally(() => this.createTree())\r\n            },\r\n\r\n            createTree() {\r\n                this.tree = CollectionUtil.listToTreeByTwoList(\r\n                    this.warehouses,\r\n                    CollectionUtil.listToTreeByTwoList(this.reservoirs, this.stocks, 'reservoirId'),\r\n                    'warehouseId'\r\n                );\r\n                if (this.isFilter) {\r\n                    this.tree = [{\r\n                        id: 0,\r\n                        name: '全部'\r\n                    }].concat(this.tree);\r\n                } else if ( this.needFilter || this.filterIds.length) {\r\n                    this.tree = CollectionUtil.filterTree(this.tree, x => this.filterIds.includes(x.id), 'children', 3);\r\n                }\r\n                this.refreshSelect();\r\n            },\r\n\r\n            refreshSelect() {\r\n                this.selectArray = CollectionUtil.getTreeRoute(this.tree, x => x.id === this.value, 'id', 'children', this.level);\r\n            },\r\n\r\n            itemChange(nodes) {\r\n                if ( !this.isFilter && nodes.length < this.level) return;\r\n                this.$emit('input', nodes.length !== this.level ? 0 : nodes[nodes.length - 1]);\r\n                this.$emit('change', nodes);\r\n            }\r\n\r\n        },\r\n        watch: {\r\n            visible(v) {\r\n                if (v) {\r\n                    this.refreshList();\r\n                }\r\n            },\r\n            value() {\r\n                this.refreshSelect();\r\n            },\r\n            filterIds() {\r\n                this.createTree();\r\n            }\r\n        },\r\n        computed: {\r\n            valueUse() {\r\n                if (this.value) {\r\n                    return this.value;\r\n                }\r\n                return this.isFilter ? 0 : null;\r\n            },\r\n            plcText() {\r\n                return '请选择' + ['仓库', '仓位', '货架'][this.level - 1]\r\n            }\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import (reference) \"~style/all.less\";\r\n\r\n    .WarehouseSelector {\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WarehouseSelector.vue?vue&type=template&id=afa1b522&scoped=true&\"\nimport script from \"./WarehouseSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./WarehouseSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WarehouseSelector.vue?vue&type=style&index=0&id=afa1b522&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afa1b522\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}