{"version":3,"sources":["webpack:///./src/components/page-content/warehouse/StockManagerView.vue?3dfa","webpack:///./src/project/model/StockModel.js","webpack:///./src/components/page-content/warehouse/dialog/StockAddDialog.vue?0318","webpack:///src/components/page-content/warehouse/dialog/StockAddDialog.vue","webpack:///./src/components/page-content/warehouse/dialog/StockAddDialog.vue?afcd","webpack:///./src/components/page-content/warehouse/dialog/StockAddDialog.vue","webpack:///src/components/page-content/warehouse/StockManagerView.vue","webpack:///./src/components/page-content/warehouse/StockManagerView.vue?199e","webpack:///./src/components/page-content/warehouse/StockManagerView.vue","webpack:///./src/components/common/button/ElButtonCurdGroup.vue?a6e6","webpack:///src/components/common/button/ElButtonCurdGroup.vue","webpack:///./src/components/common/button/ElButtonCurdGroup.vue?e24d","webpack:///./src/components/common/button/ElButtonCurdGroup.vue","webpack:///./src/project/model/base/BaseUser.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/components/page-content/warehouse/StockManagerView.vue?6cfb","webpack:///./src/project/model/ReservoirModel.js","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue?1763","webpack:///./src/components/page-content/warehouse/dialog/StockAddDialog.vue?ca4e","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue?c726","webpack:///src/components/page-content/enum-selector/WarehouseSelector.vue","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue?5206","webpack:///./src/components/page-content/enum-selector/WarehouseSelector.vue","webpack:///./src/components/common/button/ElButtonCurdGroup.vue?6046"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","on","click-search","refreshData","_v","model","value","filterForm","callback","$$v","$set","expression","width","level","is-filter","change","warehouseSelectorChange","slot","delete-disabled","selectedRow","length","edit-disabled","click-add","clickAddButton","click-edit","clickEditButton","click-delete","clickDeleteButton","data","paginate","operate-width","create-user-show","update-user-show","update:selectedRow","$event","update:selected-row","sort-change","sortChange","scopedSlots","_u","key","fn","ref","row","type","icon","nativeOn","click","clickRowEditButton","clickRowDeleteButton","prop","label","sortable","_s","warehouseName","reservoirName","show-overflow-tooltip","edit-id","editId","visible","showAddDialog","finish","update:visible","staticRenderFns","StockModel","BaseUser","StockAddDialogvue_type_template_id_78d6faa3_scoped_true_render","title","stock","showDialog","label-position","reservoirId","size","clickSubmit","StockAddDialogvue_type_template_id_78d6faa3_scoped_true_staticRenderFns","StockAddDialogvue_type_script_lang_js_","name","components","WarehouseSelector","ElButtonSubmit","props","default","StockModel_StockModel","mounted","reload","methods","v","$emit","_this","$ajax","request","Api","warehouse","stockGetById","id","then","resp","finally","_this2","api","stockUpdate","stockInsert","DialogUtil","toastSuccess","nodesIds","warehouseId","watch","computed","dialog_StockAddDialogvue_type_script_lang_js_","component","Object","componentNormalizer","StockAddDialog","StockManagerViewvue_type_script_lang_js_","TablePanel","ElButtonMini","ElButtonCurdGroup","SearchCardLayout","PaginateModel","sortingColumn","stockList","objectSpread","EcUtil","getSortField","getJSON","list","setPaginate","nodes","delete","confirm","concat","map","x","join","stockDelete","ids","routeIds","warehouse_StockManagerViewvue_type_script_lang_js_","StockManagerView_component","__webpack_exports__","disabled","addDisabled","editDisabled","deleteDisabled","_t","ElButtonCurdGroupvue_type_script_lang_js_","button_ElButtonCurdGroupvue_type_script_lang_js_","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StockManagerView_vue_vue_type_style_index_0_id_b7409ea8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StockManagerView_vue_vue_type_style_index_0_id_b7409ea8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","ReservoirModel","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WarehouseSelector_vue_vue_type_style_index_0_id_afa1b522_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_WarehouseSelector_vue_vue_type_style_index_0_id_afa1b522_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StockAddDialog_vue_vue_type_style_index_0_id_78d6faa3_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StockAddDialog_vue_vue_type_style_index_0_id_78d6faa3_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","style","selectArray","placeholder","isFilter","plcText","options","tree","change-on-select","itemChange","WarehouseSelectorvue_type_script_lang_js_","filterIds","needFilter","warehouses","reservoirs","stocks","refreshList","warSelectAll","resSelectAll","stockSelectAll","createTree","CollectionUtil","listToTreeByTwoList","filterTree","includes","refreshSelect","_this3","getTreeRoute","valueUse","enum_selector_WarehouseSelectorvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ElButtonCurdGroup_vue_vue_type_style_index_0_id_c8b3903c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ElButtonCurdGroup_vue_vue_type_style_index_0_id_c8b3903c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-2f0a6e2f.1fb50158.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"StockManagerView flex-box flex-column\"},[_c('search-card-layout',{attrs:{\"loading\":_vm.loading},on:{\"click-search\":_vm.refreshData}},[_c('div',{staticClass:\"flex-box search-card\"},[_c('div',{},[_c('span',[_vm._v(\"货架编号\")]),_c('el-input',{model:{value:(_vm.filterForm.code),callback:function ($$v) {_vm.$set(_vm.filterForm, \"code\", $$v)},expression:\"filterForm.code\"}})],1),_c('div',{},[_c('span',[_vm._v(\"货架名称\")]),_c('el-input',{model:{value:(_vm.filterForm.name),callback:function ($$v) {_vm.$set(_vm.filterForm, \"name\", $$v)},expression:\"filterForm.name\"}})],1),_c('div',{},[_c('span',[_vm._v(\"所属位置\")]),_c('warehouse-selector',{attrs:{\"width\":\"300px\",\"level\":2,\"is-filter\":true},on:{\"change\":_vm.warehouseSelectorChange}})],1)]),_c('el-button-curd-group',{attrs:{\"slot\":\"buttons\",\"delete-disabled\":!_vm.selectedRow.length,\"edit-disabled\":_vm.selectedRow.length !== 1},on:{\"click-add\":_vm.clickAddButton,\"click-edit\":_vm.clickEditButton,\"click-delete\":_vm.clickDeleteButton},slot:\"buttons\"})],1),_c('div',{staticClass:\"flex-grow\"},[_c('table-panel',{attrs:{\"loading\":_vm.loading,\"data\":_vm.data,\"paginate\":_vm.paginate,\"operate-width\":\"80\",\"selectedRow\":_vm.selectedRow,\"create-user-show\":true,\"update-user-show\":true},on:{\"update:selectedRow\":function($event){_vm.selectedRow=$event},\"update:selected-row\":function($event){_vm.selectedRow=$event},\"sort-change\":_vm.sortChange},scopedSlots:_vm._u([{key:\"operate\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button-mini',{attrs:{\"type\":\"text\",\"icon\":\"edit\"},nativeOn:{\"click\":function($event){return _vm.clickRowEditButton(row)}}}),_c('el-button-mini',{attrs:{\"type\":\"text\",\"icon\":\"delete\"},nativeOn:{\"click\":function($event){return _vm.clickRowDeleteButton(row)}}})]}}])},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"sortable\":\"custom\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"code\",\"label\":\"货架编号\",\"sortable\":\"custom\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"货架名称\",\"sortable\":\"custom\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"prop\":\"warehouseId\",\"label\":\"所属仓库\",\"sortable\":\"custom\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.warehouseName))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"reservoirId\",\"label\":\"所属仓位\",\"sortable\":\"custom\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row.reservoirName))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\",\"show-overflow-tooltip\":true,\"sortable\":\"custom\",\"width\":\"200\"}})],1)],1),_c('stock-add-dialog',{attrs:{\"edit-id\":_vm.editId,\"visible\":_vm.showAddDialog},on:{\"finish\":_vm.refreshData,\"update:visible\":function($event){_vm.showAddDialog=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import BaseUser from \"@/project/model/base/BaseUser\";\r\n\r\nexport default class StockModel extends BaseUser {\r\n\r\n    id = 0;\r\n    code = '';\r\n    name = '';\r\n    remark = '';\r\n    warehouseId = 0;\r\n    reservoirId = 0;\r\n\r\n    warehouseName = '' ;\r\n    reservoirName = '' ;\r\n\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"StockAddDialog\"},[_c('el-dialog',{attrs:{\"visible\":_vm.visible,\"width\":\"300px\",\"title\":_vm.editId? (\"编辑 \" + (_vm.stock.id)) : \"新增\"},on:{\"update:visible\":_vm.showDialog}},[_c('el-form',{attrs:{\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"货架编号\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.stock.code),callback:function ($$v) {_vm.$set(_vm.stock, \"code\", $$v)},expression:\"stock.code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"货架名称\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.stock.name),callback:function ($$v) {_vm.$set(_vm.stock, \"name\", $$v)},expression:\"stock.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属仓位\"}},[_c('warehouse-selector',{attrs:{\"width\":\"100%\",\"level\":2,\"is-filter\":false,\"visible\":_vm.visible,\"value\":_vm.stock.reservoirId},on:{\"change\":_vm.warehouseSelectorChange}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.stock.remark),callback:function ($$v) {_vm.$set(_vm.stock, \"remark\", $$v)},expression:\"stock.remark\"}})],1)],1),_c('div',{staticClass:\"mt-md\"},[_c('el-button-submit',{attrs:{\"loading\":_vm.loading,\"size\":\"small\"},nativeOn:{\"click\":function($event){return _vm.clickSubmit($event)}}},[_vm._v(\"\\n                保存提交\\n            \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"StockAddDialog\">\r\n        <el-dialog\r\n                :visible=\"visible\"\r\n                @update:visible=\"showDialog\"\r\n                width=\"300px\"\r\n                :title=\"editId? `编辑 ${stock.id}` : `新增`\"\r\n        >\r\n            <el-form label-position=\"top\">\r\n                <el-form-item label=\"货架编号\">\r\n                    <el-input type=\"text\" v-model=\"stock.code\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"货架名称\">\r\n                    <el-input type=\"text\" v-model=\"stock.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"所属仓位\">\r\n                    <warehouse-selector\r\n                            width=\"100%\"\r\n                            :level=\"2\"\r\n                            :is-filter=\"false\"\r\n                            :visible=\"visible\"\r\n                            :value=\"stock.reservoirId\"\r\n                            @change=\"warehouseSelectorChange\"\r\n                    ></warehouse-selector>\r\n                </el-form-item>\r\n                <el-form-item label=\"备注\">\r\n                    <el-input type=\"textarea\" v-model=\"stock.remark\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div class=\"mt-md\">\r\n                <el-button-submit\r\n                        :loading=\"loading\"\r\n                        size=\"small\"\r\n                        @click.native=\"clickSubmit\"\r\n                >\r\n                    保存提交\r\n                </el-button-submit>\r\n            </div>\r\n\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ElButtonSubmit from \"@/components/common/button/ElButtonSubmit\";\r\n    import Api from \"@/assets/api/Api\";\r\n    import DialogUtil from \"@/util/DialogUtil\";\r\n    import ReservoirModel from \"@/project/model/ReservoirModel\";\r\n    import WarehouseSelector from \"@/components/page-content/enum-selector/WarehouseSelector\";\r\n    import StockModel from \"@/project/model/StockModel\";\r\n\r\n    export default {\r\n        name: \"StockAddDialog\",\r\n        components: {WarehouseSelector, ElButtonSubmit},\r\n        props: {\r\n            visible: {\r\n                default: false\r\n            },\r\n            editId: {\r\n                default: 0\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                stock: new StockModel(),\r\n                loading: false,\r\n\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n            },\r\n            showDialog(v) {\r\n                this.$emit('update:visible', v);\r\n            },\r\n            refreshData() {\r\n                if (!this.editId) {\r\n                    return this.stock = new StockModel();\r\n                }\r\n                this.loading = true;\r\n                this.$ajax.request(Api.warehouse.stockGetById, {\r\n                    id: this.editId,\r\n                }).then(resp => {\r\n                    this.stock = resp;\r\n                }).finally(() => this.loading = false)\r\n            },\r\n            clickSubmit() {\r\n                let api = this.editId ? Api.warehouse.stockUpdate : Api.warehouse.stockInsert;\r\n                this.loading = true;\r\n                this.$ajax.request(api, this.stock)\r\n                    .then(resp => {\r\n                        DialogUtil.toastSuccess(resp);\r\n                        this.showDialog(false);\r\n                        this.$emit(\"finish\");\r\n                    }).finally(() => this.loading = false)\r\n            },\r\n            warehouseSelectorChange(nodesIds) {\r\n                this.stock.warehouseId = nodesIds[0];\r\n                this.stock.reservoirId = nodesIds[1];\r\n            }\r\n        },\r\n        watch: {\r\n            visible(v) {\r\n                if (v) {\r\n                    this.refreshData();\r\n                }\r\n            }\r\n        },\r\n        computed: {},\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import (reference) \"~style/all.less\";\r\n\r\n    .StockAddDialog {\r\n    }\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockAddDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockAddDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StockAddDialog.vue?vue&type=template&id=78d6faa3&scoped=true&\"\nimport script from \"./StockAddDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./StockAddDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StockAddDialog.vue?vue&type=style&index=0&id=78d6faa3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78d6faa3\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"StockManagerView flex-box flex-column\">\r\n        <search-card-layout\r\n                @click-search=\"refreshData\"\r\n                :loading=\"loading\"\r\n        >\r\n            <div class=\"flex-box search-card\">\r\n                <div class=\"\">\r\n                    <span>货架编号</span>\r\n                    <el-input v-model=\"filterForm.code\"></el-input>\r\n                </div>\r\n                <div class=\"\">\r\n                    <span>货架名称</span>\r\n                    <el-input v-model=\"filterForm.name\"></el-input>\r\n                </div>\r\n                <div class=\"\">\r\n                    <span>所属位置</span>\r\n                    <warehouse-selector\r\n                            width=\"300px\"\r\n                            :level=\"2\"\r\n                            @change=\"warehouseSelectorChange\"\r\n                            :is-filter=\"true\"\r\n                    ></warehouse-selector>\r\n                </div>\r\n            </div>\r\n            <el-button-curd-group\r\n                    slot=\"buttons\"\r\n                    :delete-disabled=\"!selectedRow.length\"\r\n                    :edit-disabled=\"selectedRow.length !== 1\"\r\n                    @click-add=\"clickAddButton\"\r\n                    @click-edit=\"clickEditButton\"\r\n                    @click-delete=\"clickDeleteButton\"\r\n            ></el-button-curd-group>\r\n        </search-card-layout>\r\n\r\n        <div class=\"flex-grow\">\r\n            <table-panel\r\n                    :loading=\"loading\"\r\n                    :data=\"data\"\r\n                    :paginate=\"paginate\"\r\n                    operate-width=\"80\"\r\n                    :selectedRow.sync=\"selectedRow\"\r\n                    @sort-change=\"sortChange\"\r\n                    :create-user-show=\"true\"\r\n                    :update-user-show=\"true\"\r\n            >\r\n                <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"ID\"\r\n                        sortable=\"custom\"\r\n                        width=\"80\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"code\"\r\n                        label=\"货架编号\"\r\n                        sortable=\"custom\"\r\n                        width=\"120\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"name\"\r\n                        label=\"货架名称\"\r\n                        sortable=\"custom\"\r\n                        width=\"160\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"warehouseId\"\r\n                        label=\"所属仓库\"\r\n                        sortable=\"custom\"\r\n                        width=\"160\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.warehouseName }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"reservoirId\"\r\n                        label=\"所属仓位\"\r\n                        sortable=\"custom\"\r\n                        width=\"160\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.reservoirName }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"remark\"\r\n                        label=\"备注\"\r\n                        :show-overflow-tooltip=\"true\"\r\n                        sortable=\"custom\"\r\n                        width=\"200\"\r\n                ></el-table-column>\r\n\r\n                <template slot=\"operate\" slot-scope=\"{row}\">\r\n                    <el-button-mini\r\n                            type=\"text\"\r\n                            icon=\"edit\"\r\n                            @click.native=\"clickRowEditButton(row)\"\r\n                    ></el-button-mini>\r\n                    <el-button-mini\r\n                            type=\"text\"\r\n                            icon=\"delete\"\r\n                            @click.native=\"clickRowDeleteButton(row)\"\r\n                    ></el-button-mini>\r\n                </template>\r\n            </table-panel>\r\n        </div>\r\n\r\n        <stock-add-dialog\r\n            :edit-id=\"editId\"\r\n            @finish=\"refreshData\"\r\n            :visible.sync=\"showAddDialog\"\r\n        ></stock-add-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import SearchCardLayout from \"@/components/layout-component/SearchCardLayout\";\r\n    import DialogUtil from \"@/util/DialogUtil\";\r\n    import Api from \"@/assets/api/Api\";\r\n    import EcUtil from \"@/util/EcUtil\";\r\n    import ElButtonCurdGroup from \"@/components/common/button/ElButtonCurdGroup\";\r\n    import StockModel from \"@/project/model/StockModel\";\r\n    import PaginateModel from \"@/project/model/PaginateModel\";\r\n    import WarehouseSelector from \"@/components/page-content/enum-selector/WarehouseSelector\";\r\n    import ElButtonMini from \"@/components/common/button/ElButtonMini\";\r\n    import TablePanel from \"@/components/layout-component/TablePanel\";\r\n    import StockAddDialog from \"@/components/page-content/warehouse/dialog/StockAddDialog\";\r\n\r\n    export default {\r\n        name: \"StockManagerView\",\r\n        components: {StockAddDialog, TablePanel, ElButtonMini, WarehouseSelector, ElButtonCurdGroup, SearchCardLayout},\r\n        props: {},\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                showAddDialog: false,\r\n                filterForm: new StockModel(),\r\n                data: [],\r\n                paginate: new PaginateModel(this.refreshData),\r\n                selectedRow: [],\r\n                sortingColumn: null,\r\n                editId: 0,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n                this.refreshData();\r\n            },\r\n            refreshData() {\r\n                this.loading = true;\r\n                this.$ajax.request(Api.warehouse.stockList, {\r\n                    ...EcUtil.getSortField(this.sortingColumn),\r\n                    ...this.paginate.getJSON(),\r\n                    ...this.filterForm\r\n                }).then(resp => {\r\n                    this.data = resp.list;\r\n                    this.paginate.setPaginate(resp);\r\n                }).finally(() => this.loading = false)\r\n            },\r\n\r\n            sortChange(nodes) {\r\n                this.sortingColumn = nodes;\r\n                this.refreshData();\r\n            },\r\n\r\n            clickAddButton() {\r\n                this.editId = 0;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickEditButton() {\r\n                this.editId = this.selectedRow[0].id;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickDeleteButton() {\r\n                this.delete(this.selectedRow);\r\n            },\r\n            clickRowEditButton(row) {\r\n                this.editId = row.id;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickRowDeleteButton(row) {\r\n                this.delete([row]);\r\n            },\r\n            delete(nodes) {\r\n                DialogUtil.confirm(`\r\n                    确定删除以下货架吗？ <br>\r\n                    [ ${nodes.map(x => x.name).join(',')} ]\r\n                `).then(() => {\r\n                    return this.$ajax.request(Api.warehouse.stockDelete, {\r\n                        ids: nodes.map(x => x.id).join(',')\r\n                    });\r\n                }).then(resp => {\r\n                    DialogUtil.toastSuccess(resp);\r\n                    this.refreshData();\r\n                })\r\n            },\r\n            warehouseSelectorChange(routeIds) {\r\n                switch (routeIds.length) {\r\n                    case 0 :\r\n                        this.filterForm.warehouseId = 0;\r\n                        this.filterForm.reservoirId = 0;\r\n                        break;\r\n                    case 1:\r\n                        this.filterForm.warehouseId = routeIds[0];\r\n                        this.filterForm.reservoirId = 0;\r\n                        break;\r\n                    case 2:\r\n                        this.filterForm.warehouseId = routeIds[0];\r\n                        this.filterForm.reservoirId = routeIds[1];\r\n                        break;\r\n                    default:\r\n                        this.filterForm.warehouseId = 0;\r\n                        this.filterForm.reservoirId = 0;\r\n                        break;\r\n                }\r\n            }\r\n        },\r\n        watch: {},\r\n        computed: {},\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import (reference) \"~style/all.less\";\r\n\r\n    .StockManagerView {\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockManagerView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockManagerView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StockManagerView.vue?vue&type=template&id=b7409ea8&scoped=true&\"\nimport script from \"./StockManagerView.vue?vue&type=script&lang=js&\"\nexport * from \"./StockManagerView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StockManagerView.vue?vue&type=style&index=0&id=b7409ea8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7409ea8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ElButtonCurdGroup\"},[_c('el-button-group',[_c('el-button-mini',{attrs:{\"icon\":\"add\",\"disabled\":_vm.addDisabled},nativeOn:{\"click\":function($event){return _vm.$emit('click-add')}}},[_vm._v(\"添加\")]),_c('el-button-mini',{attrs:{\"icon\":\"edit\",\"disabled\":_vm.editDisabled},nativeOn:{\"click\":function($event){return _vm.$emit('click-edit')}}},[_vm._v(\"编辑\")]),_c('el-button-mini',{attrs:{\"icon\":\"delete\",\"disabled\":_vm.deleteDisabled},nativeOn:{\"click\":function($event){return _vm.$emit('click-delete')}}},[_vm._v(\"删除\")])],1),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"ElButtonCurdGroup\">\r\n        <el-button-group>\r\n            <el-button-mini icon=\"add\" @click.native=\"$emit('click-add')\" :disabled=\"addDisabled\">添加</el-button-mini>\r\n            <el-button-mini icon=\"edit\" @click.native=\"$emit('click-edit')\" :disabled=\"editDisabled\">编辑</el-button-mini>\r\n            <el-button-mini icon=\"delete\" @click.native=\"$emit('click-delete')\" :disabled=\"deleteDisabled\">删除</el-button-mini>\r\n        </el-button-group>\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ElButtonMini from \"@/components/common/button/ElButtonMini\";\r\n\r\n    export default {\r\n        name: \"ElButtonCurdGroup\",\r\n        components: {ElButtonMini},\r\n        props: {\r\n            addDisabled: {\r\n                default: false\r\n            },\r\n            editDisabled: {\r\n                default: false\r\n            },\r\n            deleteDisabled: {\r\n                default: false\r\n            }\r\n        },\r\n        data() {\r\n            return {}\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n            },\r\n        },\r\n        watch: {},\r\n        computed: {},\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import (reference) \"~style/all.less\";\r\n\r\n    .ElButtonCurdGroup {\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElButtonCurdGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElButtonCurdGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElButtonCurdGroup.vue?vue&type=template&id=c8b3903c&scoped=true&\"\nimport script from \"./ElButtonCurdGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./ElButtonCurdGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ElButtonCurdGroup.vue?vue&type=style&index=0&id=c8b3903c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8b3903c\",\n  null\n  \n)\n\nexport default component.exports","import DateTimeUtil from \"@/util/DateTimeUtil\";\r\n\r\nexport default class BaseUser {\r\n\r\n    createUid = 0 ;\r\n    updateUid = 0 ;\r\n\r\n    createTime = '' ;\r\n    updateTime = '' ;\r\n\r\n    createUserName = '';\r\n    updateUserName = '' ;\r\n\r\n}","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockManagerView.vue?vue&type=style&index=0&id=b7409ea8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockManagerView.vue?vue&type=style&index=0&id=b7409ea8&lang=less&scoped=true&\"","import BaseUser from \"@/project/model/base/BaseUser\";\r\n\r\nexport default class ReservoirModel extends BaseUser {\r\n\r\n    id = 0;\r\n    code = '';\r\n    warehouseId = 0;\r\n    name = '';\r\n    remark = '';\r\n    warehouseName = '';\r\n\r\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=style&index=0&id=afa1b522&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=style&index=0&id=afa1b522&lang=less&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockAddDialog.vue?vue&type=style&index=0&id=78d6faa3&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockAddDialog.vue?vue&type=style&index=0&id=78d6faa3&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"WarehouseSelector\"},[_c('el-cascader',{style:({'width' : _vm.width}),attrs:{\"value\":_vm.selectArray,\"placeholder\":_vm.isFilter? '全部' : _vm.plcText,\"options\":_vm.tree,\"props\":{value:'id', label: 'name'},\"change-on-select\":_vm.isFilter},on:{\"change\":_vm.itemChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"WarehouseSelector\">\r\n        <el-cascader\r\n                :style=\"{'width' : width}\"\r\n                :value=\"selectArray\"\r\n                :placeholder=\" isFilter? '全部' : plcText\"\r\n                :options=\"tree\"\r\n                :props=\"{value:'id', label: 'name'}\"\r\n                @change=\"itemChange\"\r\n                :change-on-select=\"isFilter\"\r\n        ></el-cascader>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Api from \"@/assets/api/Api\";\r\n    import CollectionUtil from \"@/util/CollectionUtil\";\r\n\r\n    export default {\r\n        name: \"WarehouseSelector\",\r\n        components: {},\r\n        props: {\r\n            value: {\r\n                default: 0\r\n            },\r\n            isFilter: {\r\n                default: false\r\n            },\r\n            level: {\r\n                default: 1\r\n            },\r\n            visible: {\r\n                default: true\r\n            },\r\n            width: {\r\n                default: '200px'\r\n            },\r\n            filterIds: {\r\n                default() {\r\n                    return [];\r\n                }\r\n            },\r\n            needFilter: {\r\n                default :false\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                warehouses: [],\r\n                reservoirs: [],\r\n                stocks: [],\r\n                tree: [],\r\n                selectArray: []\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n                this.refreshList();\r\n                this.change(this.isFilter ? 0 : null);\r\n            },\r\n            change(v) {\r\n                this.$emit('input', v);\r\n            },\r\n            refreshList() {\r\n                this.$ajax.request(Api.warehouse.warSelectAll).then(resp => {\r\n                    this.warehouses = resp;\r\n                    if (this.level > 1) {\r\n                        return this.$ajax.request(Api.warehouse.resSelectAll);\r\n                    }\r\n                }).then(resp => {\r\n                    this.reservoirs = resp;\r\n                    if (this.level > 2) {\r\n                        return this.$ajax.request(Api.warehouse.stockSelectAll);\r\n                    }\r\n                }).then(resp => {\r\n                    this.stocks = resp;\r\n                }).finally(() => this.createTree())\r\n            },\r\n\r\n            createTree() {\r\n                this.tree = CollectionUtil.listToTreeByTwoList(\r\n                    this.warehouses,\r\n                    CollectionUtil.listToTreeByTwoList(this.reservoirs, this.stocks, 'reservoirId'),\r\n                    'warehouseId'\r\n                );\r\n                if (this.isFilter) {\r\n                    this.tree = [{\r\n                        id: 0,\r\n                        name: '全部'\r\n                    }].concat(this.tree);\r\n                } else if ( this.needFilter || this.filterIds.length) {\r\n                    this.tree = CollectionUtil.filterTree(this.tree, x => this.filterIds.includes(x.id), 'children', 3);\r\n                }\r\n                this.refreshSelect();\r\n            },\r\n\r\n            refreshSelect() {\r\n                this.selectArray = CollectionUtil.getTreeRoute(this.tree, x => x.id === this.value, 'id', 'children', this.level);\r\n            },\r\n\r\n            itemChange(nodes) {\r\n                if ( !this.isFilter && nodes.length < this.level) return;\r\n                this.$emit('input', nodes.length !== this.level ? 0 : nodes[nodes.length - 1]);\r\n                this.$emit('change', nodes);\r\n            }\r\n\r\n        },\r\n        watch: {\r\n            visible(v) {\r\n                if (v) {\r\n                    this.refreshList();\r\n                }\r\n            },\r\n            value() {\r\n                this.refreshSelect();\r\n            },\r\n            filterIds() {\r\n                this.createTree();\r\n            }\r\n        },\r\n        computed: {\r\n            valueUse() {\r\n                if (this.value) {\r\n                    return this.value;\r\n                }\r\n                return this.isFilter ? 0 : null;\r\n            },\r\n            plcText() {\r\n                return '请选择' + ['仓库', '仓位', '货架'][this.level - 1]\r\n            }\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import (reference) \"~style/all.less\";\r\n\r\n    .WarehouseSelector {\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarehouseSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WarehouseSelector.vue?vue&type=template&id=afa1b522&scoped=true&\"\nimport script from \"./WarehouseSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./WarehouseSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WarehouseSelector.vue?vue&type=style&index=0&id=afa1b522&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afa1b522\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElButtonCurdGroup.vue?vue&type=style&index=0&id=c8b3903c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElButtonCurdGroup.vue?vue&type=style&index=0&id=c8b3903c&lang=less&scoped=true&\""],"sourceRoot":""}