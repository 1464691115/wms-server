(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1979b87b"],{"2ec4":function(t,e,a){},4095:function(t,e,a){"use strict";var i=a("2ec4"),n=a.n(i);n.a},"41ac":function(t,e,a){"use strict";var i=a("852b"),n=a.n(i);n.a},"558e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ElButtonCurdGroup"},[a("el-button-group",[a("el-button-mini",{attrs:{icon:"add",disabled:t.addDisabled},nativeOn:{click:function(e){return t.$emit("click-add")}}},[t._v("添加")]),a("el-button-mini",{attrs:{icon:"edit",disabled:t.editDisabled},nativeOn:{click:function(e){return t.$emit("click-edit")}}},[t._v("编辑")]),a("el-button-mini",{attrs:{icon:"delete",disabled:t.deleteDisabled},nativeOn:{click:function(e){return t.$emit("click-delete")}}},[t._v("删除")])],1),t._t("default")],2)},n=[],o=a("9960"),l={name:"ElButtonCurdGroup",components:{ElButtonMini:o["a"]},props:{addDisabled:{default:!1},editDisabled:{default:!1},deleteDisabled:{default:!1}},data:function(){return{}},mounted:function(){this.reload()},methods:{reload:function(){}},watch:{},computed:{}},c=l,r=(a("fe0a"),a("2877")),s=Object(r["a"])(c,i,n,!1,null,"c8b3903c",null);e["a"]=s.exports},"73b5":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("d225"),n=a("bd86"),o=(a("5701"),function t(){Object(i["a"])(this,t),Object(n["a"])(this,"createUid",0),Object(n["a"])(this,"updateUid",0),Object(n["a"])(this,"createTime",""),Object(n["a"])(this,"updateTime",""),Object(n["a"])(this,"createUserName",""),Object(n["a"])(this,"updateUserName","")})},"74f3":function(t,e,a){"use strict";var i=a("c5a2"),n=a.n(i);n.a},"7f7f":function(t,e,a){var i=a("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,l="name";l in n||a("9e1e")&&i(n,l,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"852b":function(t,e,a){},a9cf:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CategoryTypeSelector"},[a("el-select",{attrs:{value:t.valueUse,placeholder:"选择分类"},on:{input:t.change}},[t.isFilter?a("el-option",{attrs:{label:"全部",value:0}}):t._e(),a("el-option",{attrs:{label:t.category[1],value:1}}),a("el-option",{attrs:{label:t.category[2],value:2}}),a("el-option",{attrs:{label:t.category[3],value:3}}),a("el-option",{attrs:{label:t.category[4],value:4}}),a("el-option",{attrs:{label:t.category[5],value:5}}),a("el-option",{attrs:{label:t.category[6],value:6}}),a("el-option",{attrs:{label:t.category[7],value:7}})],1)],1)},n=[],o={1:"单位类别",2:"物料类别",3:"入库单",4:"出库单",5:"设备分类",6:"设备产权",7:"产品分类"},l={name:"CategoryTypeSelector",components:{},props:{value:{default:0},isFilter:{default:!1}},data:function(){return{category:o}},mounted:function(){this.reload()},methods:{reload:function(){this.change(this.isFilter?0:null)},change:function(t){this.$emit("input",t)}},watch:{},computed:{valueUse:function(){return this.value?this.value:this.isFilter?0:null}}},c=l,r=(a("4095"),a("2877")),s=Object(r["a"])(c,i,n,!1,null,"115871d6",null);e["a"]=s.exports},b13f:function(t,e,a){},c5a2:function(t,e,a){},d06e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CategoryManagerView flex-box flex-column"},[a("search-card-layout",{on:{"click-search":t.refreshData}},[a("div",{staticClass:"flex-box search-card"},[a("div",{},[a("span",[t._v("字典名称")]),a("el-input",{model:{value:t.filterForm.name,callback:function(e){t.$set(t.filterForm,"name",e)},expression:"filterForm.name"}})],1),a("div",{staticStyle:{width:"180px"}},[a("span",[t._v("字典分类")]),a("category-type-selector",{attrs:{"is-filter":!0},model:{value:t.filterForm.type,callback:function(e){t.$set(t.filterForm,"type",e)},expression:"filterForm.type"}})],1)]),a("el-button-curd-group",{attrs:{slot:"buttons","delete-disabled":!t.selectedRow.length,"edit-disabled":1!==t.selectedRow.length},on:{"click-add":t.clickAddButton,"click-edit":t.clickEditButton,"click-delete":t.clickDeleteButton},slot:"buttons"})],1),a("div",{staticClass:"flex-grow"},[a("table-panel",{attrs:{loading:t.loading,data:t.data,paginate:t.paginate,"operate-width":"80",selectedRow:t.selectedRow,"create-user-show":!0,"update-user-show":!0},on:{"update:selectedRow":function(e){t.selectedRow=e},"update:selected-row":function(e){t.selectedRow=e},"sort-change":t.sortChange},scopedSlots:t._u([{key:"operate",fn:function(e){var i=e.row;return[a("el-button-mini",{attrs:{type:"text",icon:"edit"},nativeOn:{click:function(e){return t.clickRowEditButton(i)}}}),a("el-button-mini",{attrs:{type:"text",icon:"delete"},nativeOn:{click:function(e){return t.clickRowDeleteButton(i)}}})]}}])},[a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"custom",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"字典名称",sortable:"custom",width:"100"}}),a("el-table-column",{attrs:{prop:"type",label:"字典分类",sortable:"custom",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(a.typeName))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注",sortable:"custom",width:"200","show-overflow-tooltip":""}})],1)],1),a("category-add-dialog",{attrs:{visible:t.showAddDialog,"edit-id":t.editId},on:{"update:visible":function(e){t.showAddDialog=e},finish:t.refreshData}})],1)},n=[],o=(a("7f7f"),a("cebc")),l=a("b4d6"),c=a("1812"),r=a("41a2"),s=a("705a"),u=a("d225"),d=a("308d"),f=a("6bb5"),h=a("013f"),b=a("4e2b"),p=a("bd86"),m=a("73b5"),g=function(t){function e(){var t,a;Object(u["a"])(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return a=Object(d["a"])(this,(t=Object(f["a"])(e)).call.apply(t,[this].concat(n))),Object(p["a"])(Object(h["a"])(a),"id",0),Object(p["a"])(Object(h["a"])(a),"type",0),Object(p["a"])(Object(h["a"])(a),"name",""),Object(p["a"])(Object(h["a"])(a),"remark",""),Object(p["a"])(Object(h["a"])(a),"typeName",""),a}return Object(b["a"])(e,t),e}(m["a"]),y=a("7f0d"),v=a("a9cf"),w=a("558e"),k=a("9960"),O=a("461d"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CategoryAddDialog"},[a("el-dialog",{attrs:{visible:t.visible,width:"300px",title:t.editId?"编辑 "+t.category.id:"新增"},on:{"update:visible":t.showDialog}},[a("el-form",{attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"字典名称"}},[a("el-input",{attrs:{type:"text"},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),a("el-form-item",{attrs:{label:"字典分类"}},[a("category-type-selector",{attrs:{"is-filter":!1},model:{value:t.category.type,callback:function(e){t.$set(t.category,"type",e)},expression:"category.type"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.category.remark,callback:function(e){t.$set(t.category,"remark",e)},expression:"category.remark"}})],1)],1),a("div",{staticClass:"mt-md"},[a("el-button-submit",{attrs:{loading:t.loading,size:"small"},nativeOn:{click:function(e){return t.clickSubmit(e)}}},[t._v("\n                保存提交\n            ")])],1)],1)],1)},D=[],x=a("b5d0"),C={name:"CategoryAddDialog",components:{CategoryTypeSelector:v["a"],ElButtonSubmit:x["a"]},props:{visible:{default:!1},editId:{default:0}},data:function(){return{category:new g,loading:!1}},mounted:function(){this.reload()},methods:{reload:function(){},showDialog:function(t){this.$emit("update:visible",t)},refreshData:function(){var t=this;if(!this.editId)return this.category=new g;this.loading=!0,this.$ajax.request(c["a"].category.getById,{id:this.editId}).then(function(e){t.category=e}).finally(function(){return t.loading=!1})},clickSubmit:function(){var t=this,e=this.editId?c["a"].category.update:c["a"].category.insert;this.loading=!0,this.$ajax.request(e,this.category).then(function(e){s["a"].toastSuccess(e),t.showDialog(!1),t.$emit("finish")}).finally(function(){return t.loading=!1})}},watch:{visible:function(t){t&&this.refreshData()}},computed:{}},_=C,$=(a("41ac"),a("2877")),B=Object($["a"])(_,j,D,!1,null,"54cc6fed",null),S=B.exports,E={name:"CategoryManagerView",components:{CategoryAddDialog:S,TablePanel:O["a"],ElButtonMini:k["a"],ElButtonCurdGroup:w["a"],CategoryTypeSelector:v["a"],SearchCardLayout:l["a"]},props:{},data:function(){return{loading:!0,showAddDialog:!1,filterForm:new g,data:[],paginate:new y["a"](this.refreshData),selectedRow:[],sortingColumn:null,editId:0}},mounted:function(){this.reload()},methods:{reload:function(){this.refreshData()},refreshData:function(){var t=this;this.loading=!0,this.$ajax.request(c["a"].category.list,Object(o["a"])({},r["a"].getSortField(this.sortingColumn),this.paginate.getJSON(),this.filterForm)).then(function(e){t.data=e.list,t.paginate.setPaginate(e)}).finally(function(){return t.loading=!1})},sortChange:function(t){this.sortingColumn=t,this.refreshData()},clickAddButton:function(){this.editId=0,this.showAddDialog=!0},clickEditButton:function(){this.editId=this.selectedRow[0].id,this.showAddDialog=!0},clickDeleteButton:function(){this.delete(this.selectedRow)},clickRowEditButton:function(t){this.editId=t.id,this.showAddDialog=!0},clickRowDeleteButton:function(t){this.delete([t])},delete:function(t){var e=this;s["a"].confirm("\n                确定删除以下分类字典吗？ <br>\n                [ ".concat(t.map(function(t){return t.name}).join(",")," ]\n            ")).then(function(){return e.$ajax.request(c["a"].category.delete,{ids:t.map(function(t){return t.id}).join(",")})}).then(function(t){s["a"].toastSuccess(t),e.refreshData()})}},watch:{},computed:{}},F=E,R=(a("74f3"),Object($["a"])(F,i,n,!1,null,"24a11a7a",null));e["default"]=R.exports},fe0a:function(t,e,a){"use strict";var i=a("b13f"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-1979b87b.c4caa852.js.map